<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE CPP #-}</span><span>
</span><span id="line-2"></span><span>
</span><span id="line-3"></span><span class="hs-comment">{-| This module provides 'throwEither' and 'catchEither' for 'Either'.  These two
    functions reside here because 'throwEither' and 'catchEither' correspond to 'return'
    and ('&gt;&gt;=') for the flipped 'Either' monad: 'EitherR'.  Additionally, this
    module defines 'handleE' as the flipped version of 'catchE' for 'ExceptT'.

    'throwEither' and 'catchEither' improve upon @MonadError@ because:

    * 'catchEither' is more general than 'catch' and allows you to change the left value's type

    * Both are Haskell98

    More advanced users can use 'EitherR' and 'ExceptRT' to program in an
    entirely symmetric \&quot;success monad\&quot; where exceptional results are the norm
    and successful results terminate the computation.  This allows you to chain
    error-handlers using @do@ notation and pass around exceptional values of
    varying types until you can finally recover from the error:

&gt; runExceptRT $ do
&gt;     e2   &lt;- ioExceptionHandler e1
&gt;     bool &lt;- arithmeticExceptionhandler e2
&gt;     when bool $ lift $ putStrLn &quot;DEBUG: Arithmetic handler did something&quot;

    If any of the above error handlers 'succeed', no other handlers are tried.

    If you choose not to typefully distinguish between the error and sucess
    monad, then use 'flipEither' and 'flipET', which swap the type variables without
    changing the type.
-}</span><span>
</span><span id="line-31"></span><span>
</span><span id="line-32"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">Data.EitherR</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><span class="hs-comment">-- * EitherR</span></span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier">EitherR</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Operations in the EitherR monad</span></span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#succeed"><span class="hs-identifier">succeed</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Conversions to the Either monad</span></span><span>
</span><span id="line-40"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#throwEither"><span class="hs-identifier">throwEither</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#catchEither"><span class="hs-identifier">catchEither</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#handleEither"><span class="hs-identifier">handleEither</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#fmapL"><span class="hs-identifier">fmapL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Flip alternative</span></span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#flipEither"><span class="hs-identifier">flipEither</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><span class="hs-comment">-- * ExceptRT</span></span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier">ExceptRT</span></a></span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Operations in the ExceptRT monad</span></span><span>
</span><span id="line-52"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#succeedT"><span class="hs-identifier">succeedT</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-53"></span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Conversions to the ExceptT monad</span></span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#handleE"><span class="hs-identifier">handleE</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#fmapLT"><span class="hs-identifier">fmapLT</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>
</span><span id="line-58"></span><span>    </span><span class="annot"><span class="hs-comment">-- ** Flip alternative</span></span><span>
</span><span id="line-59"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#flipET"><span class="hs-identifier">flipET</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-61"></span><span>
</span><span id="line-62"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Applicative</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">pure</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;*&gt;)</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">Alternative</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">empty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-operator">(&lt;|&gt;)</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-63"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftM</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">ap</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">MonadPlus</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">mzero</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mplus</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadTrans</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">lift</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.IO.Class</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">MonadIO</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">liftIO</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Except</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ExceptT</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">ExceptT</span></span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">runExceptT</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">throwE</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">catchE</span></span><span class="hs-special">)</span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Monoid</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">Monoid</span></span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">mempty</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">mappend</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Trans.Except</span></span><span>
</span><span id="line-70"></span><span>
</span><span id="line-71"></span><span class="hs-comment">{-| If \&quot;@Either e r@\&quot; is the error monad, then \&quot;@EitherR r e@\&quot; is the
    corresponding success monad, where:

    * 'return' is 'throwEither'.

    * ('&gt;&gt;=') is 'catchEither'.

    * Successful results abort the computation
-}</span><span>
</span><span id="line-80"></span><span class="hs-keyword">newtype</span><span> </span><span id="EitherR"><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-var">EitherR</span></a></span></span><span> </span><span id="local-6989586621679050868"><span class="annot"><a href="#local-6989586621679050868"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621679050869"><span class="annot"><a href="#local-6989586621679050869"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="EitherR"><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-var">EitherR</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runEitherR"><span class="annot"><span class="annottext">EitherR r e -&gt; Either e r
</span><a href="Data.EitherR.html#runEitherR"><span class="hs-identifier hs-var hs-var">runEitherR</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050869"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050868"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-81"></span><span>
</span><span id="line-82"></span><span id="local-6989586621679050705"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679050702"><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050705"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-83"></span><span>    </span><span id="local-6989586621679050700"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; EitherR r a -&gt; EitherR r b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; EitherR r a -&gt; EitherR r b
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span></span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span id="local-6989586621679050699"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679050690"><span id="local-6989586621679050692"><span id="local-6989586621679050694"><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050699"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-86"></span><span>    </span><span id="local-6989586621679050688"><span class="annot"><span class="annottext">pure :: a -&gt; EitherR r a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; EitherR r a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span>
</span><span id="line-87"></span><span>    </span><span id="local-6989586621679050687"><span class="annot"><span class="annottext">&lt;*&gt; :: EitherR r (a -&gt; b) -&gt; EitherR r a -&gt; EitherR r b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;*&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EitherR r (a -&gt; b) -&gt; EitherR r a -&gt; EitherR r b
forall (m :: * -&gt; *) a b. Monad m =&gt; m (a -&gt; b) -&gt; m a -&gt; m b
</span><span class="hs-identifier hs-var">ap</span></span></span><span>
</span><span id="line-88"></span><span>
</span><span id="line-89"></span><span id="local-6989586621679050686"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679050682"><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050686"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-90"></span><span>    </span><span id="local-6989586621679050679"><span class="annot"><span class="annottext">return :: a -&gt; EitherR r a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">return</span></span></span><span> </span><span id="local-6989586621679050678"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050678"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either a r -&gt; EitherR r a
forall r e. Either e r -&gt; EitherR r e
</span><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-var">EitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either a r
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050678"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-91"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span id="local-6989586621679050677"><span class="annot"><span class="annottext">Either a r
</span><a href="#local-6989586621679050677"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679050676"><span class="annot"><span class="annottext">&gt;&gt;= :: EitherR r a -&gt; (a -&gt; EitherR r b) -&gt; EitherR r b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;&gt;=</span></span></span><span> </span><span id="local-6989586621679050675"><span class="annot"><span class="annottext">a -&gt; EitherR r b
</span><a href="#local-6989586621679050675"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either a r
</span><a href="#local-6989586621679050677"><span class="hs-identifier hs-var">m</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-92"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span>  </span><span id="local-6989586621679050674"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050674"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; EitherR r b
</span><a href="#local-6989586621679050675"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050674"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-93"></span><span>        </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679050673"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050673"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either b r -&gt; EitherR r b
forall r e. Either e r -&gt; EitherR r e
</span><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-var">EitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; Either b r
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050673"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span id="local-6989586621679050672"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679050665"><span id="local-6989586621679050667"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679050672"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Alternative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050672"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-96"></span><span>    </span><span id="local-6989586621679050663"><span class="annot"><span class="annottext">empty :: EitherR r a
</span><a href="#local-6989586621679050663"><span class="hs-identifier hs-var hs-var hs-var hs-var">empty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either a r -&gt; EitherR r a
forall r e. Either e r -&gt; EitherR r e
</span><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-var">EitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; Either a r
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">r
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span class="hs-special">)</span><span>
</span><span id="line-97"></span><span>    </span><span id="local-6989586621679050662"><span class="annot"><span class="annottext">e1 :: EitherR r a
</span><a href="#local-6989586621679050662"><span class="hs-identifier hs-var">e1</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span id="local-6989586621679050661"><span class="annot"><span class="annottext">&lt;|&gt; :: EitherR r a -&gt; EitherR r a -&gt; EitherR r a
</span><a href="#local-6989586621679050661"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;|&gt;</span></a></span></span><span> </span><span class="annot"><span class="annottext">EitherR r a
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EitherR r a
</span><a href="#local-6989586621679050662"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-98"></span><span>    </span><span class="annot"><span class="annottext">EitherR r a
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span id="local-6989586621679050660"><span class="annot"><span class="annottext">e2 :: EitherR r a
</span><a href="#local-6989586621679050660"><span class="hs-identifier hs-var">e2</span></a></span></span><span class="hs-glyph">@</span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EitherR r a
</span><a href="#local-6989586621679050660"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-99"></span><span>    </span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679050659"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050659"><span class="hs-identifier hs-var">r1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-operator hs-var">&lt;|&gt;</span></span><span> </span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679050658"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050658"><span class="hs-identifier hs-var">r2</span></a></span></span><span class="hs-special">)</span><span>
</span><span id="line-100"></span><span>        </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either a r -&gt; EitherR r a
forall r e. Either e r -&gt; EitherR r e
</span><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-var">EitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; Either a r
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050659"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050658"><span class="hs-identifier hs-var">r2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span><span>
</span><span id="line-101"></span><span>
</span><span id="line-102"></span><span id="local-6989586621679050657"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679050657"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadPlus</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050657"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-103"></span><span>    </span><span id="local-6989586621679050651"><span class="annot"><span class="annottext">mzero :: EitherR r a
</span><a href="#local-6989586621679050651"><span class="hs-identifier hs-var hs-var hs-var hs-var">mzero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EitherR r a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-104"></span><span>    </span><span id="local-6989586621679050650"><span class="annot"><span class="annottext">mplus :: EitherR r a -&gt; EitherR r a -&gt; EitherR r a
</span><a href="#local-6989586621679050650"><span class="hs-identifier hs-var hs-var hs-var hs-var">mplus</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EitherR r a -&gt; EitherR r a -&gt; EitherR r a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">(&lt;|&gt;)</span></span></span><span>
</span><span id="line-105"></span><span>
</span><span id="line-106"></span><span class="hs-comment">-- | Complete error handling, returning a result</span><span>
</span><span id="line-107"></span><span id="local-6989586621679050648"><span id="local-6989586621679050649"><span class="annot"><a href="Data.EitherR.html#succeed"><span class="hs-identifier hs-type">succeed</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679050649"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-type">EitherR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050649"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050648"><span class="hs-identifier hs-type">e</span></a></span></span></span><span>
</span><span id="line-108"></span><span id="succeed"><span class="annot"><span class="annottext">succeed :: r -&gt; EitherR r e
</span><a href="Data.EitherR.html#succeed"><span class="hs-identifier hs-var hs-var">succeed</span></a></span></span><span> </span><span id="local-6989586621679050647"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050647"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Either e r -&gt; EitherR r e
forall r e. Either e r -&gt; EitherR r e
</span><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-var">EitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; Either e r
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050647"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>
</span><span id="line-110"></span><span class="hs-comment">-- | 'throwEither' in the error monad corresponds to 'return' in the success monad</span><span>
</span><span id="line-111"></span><span id="local-6989586621679050645"><span id="local-6989586621679050646"><span class="annot"><a href="Data.EitherR.html#throwEither"><span class="hs-identifier hs-type">throwEither</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621679050646"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050646"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050645"><span class="hs-identifier hs-type">r</span></a></span></span></span><span>
</span><span id="line-112"></span><span id="throwEither"><span class="annot"><span class="annottext">throwEither :: e -&gt; Either e r
</span><a href="Data.EitherR.html#throwEither"><span class="hs-identifier hs-var hs-var">throwEither</span></a></span></span><span> </span><span id="local-6989586621679050644"><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679050644"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EitherR r e -&gt; Either e r
forall r e. EitherR r e -&gt; Either e r
</span><a href="Data.EitherR.html#runEitherR"><span class="hs-identifier hs-var hs-var">runEitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">e -&gt; EitherR r e
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">e
</span><a href="#local-6989586621679050644"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>
</span><span id="line-114"></span><span class="hs-comment">-- | 'catchEither' in the error monad corresponds to ('&gt;&gt;=') in the success monad</span><span>
</span><span id="line-115"></span><span id="local-6989586621679050827"><span id="local-6989586621679050828"><span id="local-6989586621679050829"><span class="annot"><a href="Data.EitherR.html#catchEither"><span class="hs-identifier hs-type">catchEither</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050829"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050828"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679050829"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050827"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050828"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050827"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050828"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-116"></span><span id="local-6989586621679050643"><span class="annot"><span class="annottext">Either a r
</span><a href="#local-6989586621679050643"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span id="catchEither"><span class="annot"><span class="annottext">catchEither :: Either a r -&gt; (a -&gt; Either b r) -&gt; Either b r
</span><a href="Data.EitherR.html#catchEither"><span class="hs-operator hs-var hs-var">`catchEither`</span></a></span></span><span> </span><span id="local-6989586621679050642"><span class="annot"><span class="annottext">a -&gt; Either b r
</span><a href="#local-6989586621679050642"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EitherR r b -&gt; Either b r
forall r e. EitherR r e -&gt; Either e r
</span><a href="Data.EitherR.html#runEitherR"><span class="hs-identifier hs-var hs-var">runEitherR</span></a></span><span> </span><span class="annot"><span class="annottext">(EitherR r b -&gt; Either b r) -&gt; EitherR r b -&gt; Either b r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Either a r -&gt; EitherR r a
forall r e. Either e r -&gt; EitherR r e
</span><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-var">EitherR</span></a></span><span> </span><span class="annot"><span class="annottext">Either a r
</span><a href="#local-6989586621679050643"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="annot"><span class="annottext">EitherR r a -&gt; (a -&gt; EitherR r b) -&gt; EitherR r b
forall (m :: * -&gt; *) a b. Monad m =&gt; m a -&gt; (a -&gt; m b) -&gt; m b
</span><span class="hs-operator hs-var">&gt;&gt;=</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621679050641"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050641"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either b r -&gt; EitherR r b
forall r e. Either e r -&gt; EitherR r e
</span><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-var">EitherR</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either b r
</span><a href="#local-6989586621679050642"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050641"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-117"></span><span>
</span><span id="line-118"></span><span class="hs-comment">-- | 'catchEither' with the arguments flipped</span><span>
</span><span id="line-119"></span><span id="local-6989586621679050638"><span id="local-6989586621679050639"><span id="local-6989586621679050640"><span class="annot"><a href="Data.EitherR.html#handleEither"><span class="hs-identifier hs-type">handleEither</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679050640"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050639"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050638"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050640"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050638"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050639"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050638"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-120"></span><span id="handleEither"><span class="annot"><span class="annottext">handleEither :: (a -&gt; Either b r) -&gt; Either a r -&gt; Either b r
</span><a href="Data.EitherR.html#handleEither"><span class="hs-identifier hs-var hs-var">handleEither</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(Either a r -&gt; (a -&gt; Either b r) -&gt; Either b r)
-&gt; (a -&gt; Either b r) -&gt; Either a r -&gt; Either b r
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">Either a r -&gt; (a -&gt; Either b r) -&gt; Either b r
forall a r b. Either a r -&gt; (a -&gt; Either b r) -&gt; Either b r
</span><a href="Data.EitherR.html#catchEither"><span class="hs-identifier hs-var">catchEither</span></a></span><span>
</span><span id="line-121"></span><span>
</span><span id="line-122"></span><span class="hs-comment">-- | Map a function over the 'Left' value of an 'Either'</span><span>
</span><span id="line-123"></span><span id="local-6989586621679050634"><span id="local-6989586621679050635"><span id="local-6989586621679050636"><span class="annot"><a href="Data.EitherR.html#fmapL"><span class="hs-identifier hs-type">fmapL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679050636"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679050635"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050636"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050634"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050635"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050634"><span class="hs-identifier hs-type">r</span></a></span></span></span></span><span>
</span><span id="line-124"></span><span id="fmapL"><span class="annot"><span class="annottext">fmapL :: (a -&gt; b) -&gt; Either a r -&gt; Either b r
</span><a href="Data.EitherR.html#fmapL"><span class="hs-identifier hs-var hs-var">fmapL</span></a></span></span><span> </span><span id="local-6989586621679050633"><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679050633"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">EitherR r b -&gt; Either b r
forall r e. EitherR r e -&gt; Either e r
</span><a href="Data.EitherR.html#runEitherR"><span class="hs-identifier hs-var hs-var">runEitherR</span></a></span><span> </span><span class="annot"><span class="annottext">(EitherR r b -&gt; Either b r)
-&gt; (Either a r -&gt; EitherR r b) -&gt; Either a r -&gt; Either b r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; EitherR r a -&gt; EitherR r b
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; b
</span><a href="#local-6989586621679050633"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">(EitherR r a -&gt; EitherR r b)
-&gt; (Either a r -&gt; EitherR r a) -&gt; Either a r -&gt; EitherR r b
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Either a r -&gt; EitherR r a
forall r e. Either e r -&gt; EitherR r e
</span><a href="Data.EitherR.html#EitherR"><span class="hs-identifier hs-var">EitherR</span></a></span><span>
</span><span id="line-125"></span><span>
</span><span id="line-126"></span><span class="hs-comment">-- | Flip the type variables of 'Either'</span><span>
</span><span id="line-127"></span><span id="local-6989586621679050730"><span id="local-6989586621679050731"><span class="annot"><a href="Data.EitherR.html#flipEither"><span class="hs-identifier hs-type">flipEither</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050731"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050730"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Either</span></span><span> </span><span class="annot"><a href="#local-6989586621679050730"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050731"><span class="hs-identifier hs-type">a</span></a></span></span></span><span>
</span><span id="line-128"></span><span id="flipEither"><span class="annot"><span class="annottext">flipEither :: Either a b -&gt; Either b a
</span><a href="Data.EitherR.html#flipEither"><span class="hs-identifier hs-var hs-var">flipEither</span></a></span></span><span> </span><span id="local-6989586621679050631"><span class="annot"><span class="annottext">Either a b
</span><a href="#local-6989586621679050631"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either a b
</span><a href="#local-6989586621679050631"><span class="hs-identifier hs-var">e</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-129"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span>  </span><span id="local-6989586621679050630"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050630"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; Either b a
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050630"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-130"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679050629"><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679050629"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">b -&gt; Either b a
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span>  </span><span class="annot"><span class="annottext">b
</span><a href="#local-6989586621679050629"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-131"></span><span>
</span><span id="line-132"></span><span class="hs-comment">-- | 'EitherR' converted into a monad transformer</span><span>
</span><span id="line-133"></span><span class="hs-keyword">newtype</span><span> </span><span id="ExceptRT"><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-var">ExceptRT</span></a></span></span><span> </span><span id="local-6989586621679050788"><span class="annot"><a href="#local-6989586621679050788"><span class="hs-identifier hs-type">r</span></a></span></span><span> </span><span id="local-6989586621679050789"><span class="annot"><a href="#local-6989586621679050789"><span class="hs-identifier hs-type">m</span></a></span></span><span> </span><span id="local-6989586621679050790"><span class="annot"><a href="#local-6989586621679050790"><span class="hs-identifier hs-type">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="ExceptRT"><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-var">ExceptRT</span></a></span></span><span> </span><span class="hs-special">{</span><span> </span><span id="runExceptRT"><span class="annot"><span class="annottext">ExceptRT r m e -&gt; ExceptT e m r
</span><a href="Data.EitherR.html#runExceptRT"><span class="hs-identifier hs-var hs-var">runExceptRT</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679050790"><span class="hs-identifier hs-type">e</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050789"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050788"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-special">}</span><span>
</span><span id="line-134"></span><span>
</span><span id="line-135"></span><span id="local-6989586621679050625"><span id="local-6989586621679050626"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679050622"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679050626"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-type">ExceptRT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050625"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050626"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-136"></span><span>    </span><span id="local-6989586621679050621"><span class="annot"><span class="annottext">fmap :: (a -&gt; b) -&gt; ExceptRT r m a -&gt; ExceptRT r m b
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">fmap</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; ExceptRT r m a -&gt; ExceptRT r m b
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span></span></span><span>
</span><span id="line-137"></span><span>
</span><span id="line-138"></span><span id="local-6989586621679050619"><span id="local-6989586621679050620"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679050610"><span id="local-6989586621679050612"><span id="local-6989586621679050614"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679050620"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Applicative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-type">ExceptRT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050619"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050620"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-139"></span><span>    </span><span id="local-6989586621679050609"><span class="annot"><span class="annottext">pure :: a -&gt; ExceptRT r m a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">pure</span></span></span><span>  </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">a -&gt; ExceptRT r m a
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span>
</span><span id="line-140"></span><span>    </span><span id="local-6989586621679050608"><span class="annot"><span class="annottext">&lt;*&gt; :: ExceptRT r m (a -&gt; b) -&gt; ExceptRT r m a -&gt; ExceptRT r m b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">(&lt;*&gt;)</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExceptRT r m (a -&gt; b) -&gt; ExceptRT r m a -&gt; ExceptRT r m b
forall (m :: * -&gt; *) a b. Monad m =&gt; m (a -&gt; b) -&gt; m a -&gt; m b
</span><span class="hs-identifier hs-var">ap</span></span></span></span><span>
</span><span id="line-141"></span><span>
</span><span id="line-142"></span><span id="local-6989586621679050606"><span id="local-6989586621679050607"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679050602"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679050607"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-type">ExceptRT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050606"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050607"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-143"></span><span>    </span><span id="local-6989586621679050600"><span class="annot"><span class="annottext">return :: a -&gt; ExceptRT r m a
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">return</span></span></span><span> </span><span id="local-6989586621679050599"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050599"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExceptT a m r -&gt; ExceptRT r m a
forall r (m :: * -&gt; *) e. ExceptT e m r -&gt; ExceptRT r m e
</span><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-var">ExceptRT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; ExceptT a m r
forall (m :: * -&gt; *) e a. Monad m =&gt; e -&gt; ExceptT e m a
</span><span class="hs-identifier hs-var">throwE</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050599"><span class="hs-identifier hs-var">e</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>    </span><span id="local-6989586621679050598"><span class="annot"><span class="annottext">ExceptRT r m a
</span><a href="#local-6989586621679050598"><span class="hs-identifier hs-var">m</span></a></span></span><span> </span><span id="local-6989586621679050597"><span class="annot"><span class="annottext">&gt;&gt;= :: ExceptRT r m a -&gt; (a -&gt; ExceptRT r m b) -&gt; ExceptRT r m b
</span><span class="hs-operator hs-var hs-var hs-var hs-var">&gt;&gt;=</span></span></span><span> </span><span id="local-6989586621679050596"><span class="annot"><span class="annottext">a -&gt; ExceptRT r m b
</span><a href="#local-6989586621679050596"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExceptT b m r -&gt; ExceptRT r m b
forall r (m :: * -&gt; *) e. ExceptT e m r -&gt; ExceptRT r m e
</span><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-var">ExceptRT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT b m r -&gt; ExceptRT r m b)
-&gt; ExceptT b m r -&gt; ExceptRT r m b
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m (Either b r) -&gt; ExceptT b m r
forall e (m :: * -&gt; *) a. m (Either e a) -&gt; ExceptT e m a
</span><span class="hs-identifier hs-var">ExceptT</span></span><span> </span><span class="annot"><span class="annottext">(m (Either b r) -&gt; ExceptT b m r)
-&gt; m (Either b r) -&gt; ExceptT b m r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-145"></span><span>        </span><span id="local-6989586621679050595"><span class="annot"><span class="annottext">Either a r
</span><a href="#local-6989586621679050595"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT a m r -&gt; m (Either a r)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><span class="hs-identifier hs-var">runExceptT</span></span><span> </span><span class="annot"><span class="annottext">(ExceptT a m r -&gt; m (Either a r))
-&gt; ExceptT a m r -&gt; m (Either a r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ExceptRT r m a -&gt; ExceptT a m r
forall r (m :: * -&gt; *) e. ExceptRT r m e -&gt; ExceptT e m r
</span><a href="Data.EitherR.html#runExceptRT"><span class="hs-identifier hs-var hs-var">runExceptRT</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptRT r m a
</span><a href="#local-6989586621679050598"><span class="hs-identifier hs-var">m</span></a></span><span>
</span><span id="line-146"></span><span>        </span><span class="annot"><span class="annottext">ExceptT b m r -&gt; m (Either b r)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><span class="hs-identifier hs-var">runExceptT</span></span><span> </span><span class="annot"><span class="annottext">(ExceptT b m r -&gt; m (Either b r))
-&gt; ExceptT b m r -&gt; m (Either b r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ExceptRT r m b -&gt; ExceptT b m r
forall r (m :: * -&gt; *) e. ExceptRT r m e -&gt; ExceptT e m r
</span><a href="Data.EitherR.html#runExceptRT"><span class="hs-identifier hs-var hs-var">runExceptRT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptRT r m b -&gt; ExceptT b m r)
-&gt; ExceptRT r m b -&gt; ExceptT b m r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either a r
</span><a href="#local-6989586621679050595"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-147"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span>  </span><span id="local-6989586621679050594"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050594"><span class="hs-identifier hs-var">e</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">a -&gt; ExceptRT r m b
</span><a href="#local-6989586621679050596"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050594"><span class="hs-identifier hs-var">e</span></a></span><span>
</span><span id="line-148"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679050593"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050593"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">ExceptT b m r -&gt; ExceptRT r m b
forall r (m :: * -&gt; *) e. ExceptT e m r -&gt; ExceptRT r m e
</span><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-var">ExceptRT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; ExceptT b m r
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050593"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-149"></span><span>
</span><span id="line-150"></span><span id="local-6989586621679050591"><span id="local-6989586621679050592"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621679050584"><span id="local-6989586621679050586"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679050592"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679050591"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Alternative</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-type">ExceptRT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050591"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050592"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-151"></span><span>    </span><span id="local-6989586621679050583"><span class="annot"><span class="annottext">empty :: ExceptRT r m a
</span><a href="#local-6989586621679050583"><span class="hs-identifier hs-var hs-var hs-var hs-var">empty</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExceptT a m r -&gt; ExceptRT r m a
forall r (m :: * -&gt; *) e. ExceptT e m r -&gt; ExceptRT r m e
</span><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-var">ExceptRT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT a m r -&gt; ExceptRT r m a)
-&gt; ExceptT a m r -&gt; ExceptRT r m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m (Either a r) -&gt; ExceptT a m r
forall e (m :: * -&gt; *) a. m (Either e a) -&gt; ExceptT e m a
</span><span class="hs-identifier hs-var">ExceptT</span></span><span> </span><span class="annot"><span class="annottext">(m (Either a r) -&gt; ExceptT a m r)
-&gt; m (Either a r) -&gt; ExceptT a m r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Either a r -&gt; m (Either a r)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">(Either a r -&gt; m (Either a r)) -&gt; Either a r -&gt; m (Either a r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">r -&gt; Either a r
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="annot"><span class="annottext">r
forall a. Monoid a =&gt; a
</span><span class="hs-identifier hs-var">mempty</span></span><span>
</span><span id="line-152"></span><span>    </span><span id="local-6989586621679050582"><span class="annot"><span class="annottext">ExceptRT r m a
</span><a href="#local-6989586621679050582"><span class="hs-identifier hs-var">e1</span></a></span></span><span> </span><span id="local-6989586621679050581"><span class="annot"><span class="annottext">&lt;|&gt; :: ExceptRT r m a -&gt; ExceptRT r m a -&gt; ExceptRT r m a
</span><a href="#local-6989586621679050581"><span class="hs-operator hs-var hs-var hs-var hs-var">&lt;|&gt;</span></a></span></span><span> </span><span id="local-6989586621679050580"><span class="annot"><span class="annottext">ExceptRT r m a
</span><a href="#local-6989586621679050580"><span class="hs-identifier hs-var">e2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExceptT a m r -&gt; ExceptRT r m a
forall r (m :: * -&gt; *) e. ExceptT e m r -&gt; ExceptRT r m e
</span><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-var">ExceptRT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT a m r -&gt; ExceptRT r m a)
-&gt; ExceptT a m r -&gt; ExceptRT r m a
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">m (Either a r) -&gt; ExceptT a m r
forall e (m :: * -&gt; *) a. m (Either e a) -&gt; ExceptT e m a
</span><span class="hs-identifier hs-var">ExceptT</span></span><span> </span><span class="annot"><span class="annottext">(m (Either a r) -&gt; ExceptT a m r)
-&gt; m (Either a r) -&gt; ExceptT a m r
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-153"></span><span>        </span><span id="local-6989586621679050579"><span class="annot"><span class="annottext">Either a r
</span><a href="#local-6989586621679050579"><span class="hs-identifier hs-var">x1</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT a m r -&gt; m (Either a r)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><span class="hs-identifier hs-var">runExceptT</span></span><span> </span><span class="annot"><span class="annottext">(ExceptT a m r -&gt; m (Either a r))
-&gt; ExceptT a m r -&gt; m (Either a r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ExceptRT r m a -&gt; ExceptT a m r
forall r (m :: * -&gt; *) e. ExceptRT r m e -&gt; ExceptT e m r
</span><a href="Data.EitherR.html#runExceptRT"><span class="hs-identifier hs-var hs-var">runExceptRT</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptRT r m a
</span><a href="#local-6989586621679050582"><span class="hs-identifier hs-var">e1</span></a></span><span>
</span><span id="line-154"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either a r
</span><a href="#local-6989586621679050579"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-155"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span>  </span><span id="local-6989586621679050578"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050578"><span class="hs-identifier hs-var">l</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either a r -&gt; m (Either a r)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either a r
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050578"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679050577"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050577"><span class="hs-identifier hs-var">r1</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-157"></span><span>                </span><span id="local-6989586621679050576"><span class="annot"><span class="annottext">Either a r
</span><a href="#local-6989586621679050576"><span class="hs-identifier hs-var">x2</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">ExceptT a m r -&gt; m (Either a r)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><span class="hs-identifier hs-var">runExceptT</span></span><span> </span><span class="annot"><span class="annottext">(ExceptT a m r -&gt; m (Either a r))
-&gt; ExceptT a m r -&gt; m (Either a r)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">ExceptRT r m a -&gt; ExceptT a m r
forall r (m :: * -&gt; *) e. ExceptRT r m e -&gt; ExceptT e m r
</span><a href="Data.EitherR.html#runExceptRT"><span class="hs-identifier hs-var hs-var">runExceptRT</span></a></span><span> </span><span class="annot"><span class="annottext">ExceptRT r m a
</span><a href="#local-6989586621679050580"><span class="hs-identifier hs-var">e2</span></a></span><span>
</span><span id="line-158"></span><span>                </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Either a r
</span><a href="#local-6989586621679050576"><span class="hs-identifier hs-var">x2</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-159"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Left</span></span><span>  </span><span id="local-6989586621679050575"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050575"><span class="hs-identifier hs-var">l</span></a></span></span><span>  </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either a r -&gt; m (Either a r)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">a -&gt; Either a r
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621679050575"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-160"></span><span>                    </span><span class="annot"><span class="hs-identifier hs-type">Right</span></span><span> </span><span id="local-6989586621679050574"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050574"><span class="hs-identifier hs-var">r2</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">Either a r -&gt; m (Either a r)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; Either a r
forall a b. b -&gt; Either a b
</span><span class="hs-identifier hs-var">Right</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; r -&gt; r
forall a. Monoid a =&gt; a -&gt; a -&gt; a
</span><span class="hs-identifier hs-var">mappend</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050577"><span class="hs-identifier hs-var">r1</span></a></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050574"><span class="hs-identifier hs-var">r2</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span></span></span><span>
</span><span id="line-161"></span><span>
</span><span id="line-162"></span><span id="local-6989586621679050572"><span id="local-6989586621679050573"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679050573"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Monoid</span></span><span> </span><span class="annot"><a href="#local-6989586621679050572"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadPlus</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-type">ExceptRT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050572"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050573"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-163"></span><span>    </span><span id="local-6989586621679050567"><span class="annot"><span class="annottext">mzero :: ExceptRT r m a
</span><a href="#local-6989586621679050567"><span class="hs-identifier hs-var hs-var hs-var hs-var">mzero</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExceptRT r m a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a
</span><span class="hs-identifier hs-var">empty</span></span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621679050566"><span class="annot"><span class="annottext">mplus :: ExceptRT r m a -&gt; ExceptRT r m a -&gt; ExceptRT r m a
</span><a href="#local-6989586621679050566"><span class="hs-identifier hs-var hs-var hs-var hs-var">mplus</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExceptRT r m a -&gt; ExceptRT r m a -&gt; ExceptRT r m a
forall (f :: * -&gt; *) a. Alternative f =&gt; f a -&gt; f a -&gt; f a
</span><span class="hs-operator hs-var">(&lt;|&gt;)</span></span></span></span><span>
</span><span id="line-165"></span><span>
</span><span id="line-166"></span><span id="local-6989586621679050565"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadTrans</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-type">ExceptRT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050565"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-167"></span><span>    </span><span id="local-6989586621679050562"><span class="annot"><span class="annottext">lift :: m a -&gt; ExceptRT r m a
</span><a href="#local-6989586621679050562"><span class="hs-identifier hs-var hs-var hs-var hs-var">lift</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExceptT a m r -&gt; ExceptRT r m a
forall r (m :: * -&gt; *) e. ExceptT e m r -&gt; ExceptRT r m e
</span><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-var">ExceptRT</span></a></span><span> </span><span class="annot"><span class="annottext">(ExceptT a m r -&gt; ExceptRT r m a)
-&gt; (m a -&gt; ExceptT a m r) -&gt; m a -&gt; ExceptRT r m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">m (Either a r) -&gt; ExceptT a m r
forall e (m :: * -&gt; *) a. m (Either e a) -&gt; ExceptT e m a
</span><span class="hs-identifier hs-var">ExceptT</span></span><span> </span><span class="annot"><span class="annottext">(m (Either a r) -&gt; ExceptT a m r)
-&gt; (m a -&gt; m (Either a r)) -&gt; m a -&gt; ExceptT a m r
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(a -&gt; Either a r) -&gt; m a -&gt; m (Either a r)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">a -&gt; Either a r
forall a b. a -&gt; Either a b
</span><span class="hs-identifier hs-var">Left</span></span></span><span>
</span><span id="line-168"></span><span>
</span><span id="line-169"></span><span id="local-6989586621679050560"><span id="local-6989586621679050561"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="annot"><a href="#local-6989586621679050561"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">MonadIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-type">ExceptRT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050560"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050561"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-170"></span><span>    </span><span id="local-6989586621679050556"><span class="annot"><span class="annottext">liftIO :: IO a -&gt; ExceptRT r m a
</span><a href="#local-6989586621679050556"><span class="hs-identifier hs-var hs-var hs-var hs-var">liftIO</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m a -&gt; ExceptRT r m a
forall (t :: (* -&gt; *) -&gt; * -&gt; *) (m :: * -&gt; *) a.
(MonadTrans t, Monad m) =&gt;
m a -&gt; t m a
</span><span class="hs-identifier hs-var">lift</span></span><span> </span><span class="annot"><span class="annottext">(m a -&gt; ExceptRT r m a) -&gt; (IO a -&gt; m a) -&gt; IO a -&gt; ExceptRT r m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">IO a -&gt; m a
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span></span></span><span>
</span><span id="line-171"></span><span>
</span><span id="line-172"></span><span class="hs-comment">-- | Complete error handling, returning a result</span><span>
</span><span id="line-173"></span><span id="local-6989586621679050553"><span id="local-6989586621679050554"><span id="local-6989586621679050555"><span class="annot"><a href="Data.EitherR.html#succeedT"><span class="hs-identifier hs-type">succeedT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679050555"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679050554"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-type">ExceptRT</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050554"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050555"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050553"><span class="hs-identifier hs-type">e</span></a></span></span></span></span><span>
</span><span id="line-174"></span><span id="succeedT"><span class="annot"><span class="annottext">succeedT :: r -&gt; ExceptRT r m e
</span><a href="Data.EitherR.html#succeedT"><span class="hs-identifier hs-var hs-var">succeedT</span></a></span></span><span> </span><span id="local-6989586621679050552"><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050552"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ExceptT e m r -&gt; ExceptRT r m e
forall r (m :: * -&gt; *) e. ExceptT e m r -&gt; ExceptRT r m e
</span><a href="Data.EitherR.html#ExceptRT"><span class="hs-identifier hs-var">ExceptRT</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">r -&gt; ExceptT e m r
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span> </span><span class="annot"><span class="annottext">r
</span><a href="#local-6989586621679050552"><span class="hs-identifier hs-var">r</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-175"></span><span>
</span><span id="line-176"></span><span class="hs-comment">-- | 'catchE' with the arguments flipped</span><span>
</span><span id="line-177"></span><span id="local-6989586621679050548"><span id="local-6989586621679050549"><span id="local-6989586621679050550"><span id="local-6989586621679050551"><span class="annot"><a href="Data.EitherR.html#handleE"><span class="hs-identifier hs-type">handleE</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679050551"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679050550"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679050549"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050551"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050548"><span class="hs-identifier hs-type">r</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679050550"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050551"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050548"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679050549"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050551"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050548"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-178"></span><span id="handleE"><span class="annot"><span class="annottext">handleE :: (a -&gt; ExceptT b m r) -&gt; ExceptT a m r -&gt; ExceptT b m r
</span><a href="Data.EitherR.html#handleE"><span class="hs-identifier hs-var hs-var">handleE</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(ExceptT a m r -&gt; (a -&gt; ExceptT b m r) -&gt; ExceptT b m r)
-&gt; (a -&gt; ExceptT b m r) -&gt; ExceptT a m r -&gt; ExceptT b m r
forall a b c. (a -&gt; b -&gt; c) -&gt; b -&gt; a -&gt; c
</span><span class="hs-identifier hs-var">flip</span></span><span> </span><span class="annot"><span class="annottext">ExceptT a m r -&gt; (a -&gt; ExceptT b m r) -&gt; ExceptT b m r
forall (m :: * -&gt; *) e a e'.
Monad m =&gt;
ExceptT e m a -&gt; (e -&gt; ExceptT e' m a) -&gt; ExceptT e' m a
</span><span class="hs-identifier hs-var">catchE</span></span><span>
</span><span id="line-179"></span><span>
</span><span id="line-180"></span><span class="hs-comment">-- | Map a function over the 'Left' value of an 'ExceptT'</span><span class="hs-cpp">
#if MIN_VERSION_base(4,8,0)
</span><span id="local-6989586621679050544"><span id="local-6989586621679050545"><span id="local-6989586621679050546"><span id="local-6989586621679050547"><span class="annot"><a href="Data.EitherR.html#fmapLT"><span class="hs-identifier hs-type">fmapLT</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Functor</span></span><span> </span><span class="annot"><a href="#local-6989586621679050547"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621679050546"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621679050545"><span class="hs-identifier hs-type">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679050546"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050547"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050544"><span class="hs-identifier hs-type">r</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679050545"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050547"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050544"><span class="hs-identifier hs-type">r</span></a></span></span></span></span></span><span>
</span><span id="line-183"></span><span id="fmapLT"><span class="annot"><span class="annottext">fmapLT :: (a -&gt; b) -&gt; ExceptT a m r -&gt; ExceptT b m r
</span><a href="Data.EitherR.html#fmapLT"><span class="hs-identifier hs-var hs-var">fmapLT</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(a -&gt; b) -&gt; ExceptT a m r -&gt; ExceptT b m r
forall (m :: * -&gt; *) e e' a.
Functor m =&gt;
(e -&gt; e') -&gt; ExceptT e m a -&gt; ExceptT e' m a
</span><span class="hs-identifier hs-var">Control.Monad.Trans.Except.withExceptT</span></span><span class="hs-cpp">
#else
</span><span class="hs-identifier">fmapLT</span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">Monad</span><span> </span><span class="hs-identifier">m</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">(</span><span class="hs-identifier">a</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">b</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">ExceptT</span><span> </span><span class="hs-identifier">a</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">r</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-identifier">ExceptT</span><span> </span><span class="hs-identifier">b</span><span> </span><span class="hs-identifier">m</span><span> </span><span class="hs-identifier">r</span><span>
</span><span id="line-186"></span><span class="hs-identifier">fmapLT</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-identifier">runExceptRT</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">fmap</span><span> </span><span class="hs-identifier">f</span><span> </span><span class="hs-operator">.</span><span> </span><span class="hs-identifier">ExceptRT</span><span class="hs-cpp">
#endif
</span><span>
</span><span id="line-189"></span><span class="hs-comment">-- | Flip the type variables of an 'ExceptT'</span><span>
</span><span id="line-190"></span><span id="local-6989586621679050540"><span id="local-6989586621679050541"><span id="local-6989586621679050542"><span class="annot"><a href="Data.EitherR.html#flipET"><span class="hs-identifier hs-type">flipET</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Monad</span></span><span> </span><span class="annot"><a href="#local-6989586621679050542"><span class="hs-identifier hs-type">m</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679050541"><span class="hs-identifier hs-type">a</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050542"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050540"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ExceptT</span></span><span> </span><span class="annot"><a href="#local-6989586621679050540"><span class="hs-identifier hs-type">b</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050542"><span class="hs-identifier hs-type">m</span></a></span><span> </span><span class="annot"><a href="#local-6989586621679050541"><span class="hs-identifier hs-type">a</span></a></span></span></span></span><span>
</span><span id="line-191"></span><span id="flipET"><span class="annot"><span class="annottext">flipET :: ExceptT a m b -&gt; ExceptT b m a
</span><a href="Data.EitherR.html#flipET"><span class="hs-identifier hs-var hs-var">flipET</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">m (Either b a) -&gt; ExceptT b m a
forall e (m :: * -&gt; *) a. m (Either e a) -&gt; ExceptT e m a
</span><span class="hs-identifier hs-var">ExceptT</span></span><span> </span><span class="annot"><span class="annottext">(m (Either b a) -&gt; ExceptT b m a)
-&gt; (ExceptT a m b -&gt; m (Either b a))
-&gt; ExceptT a m b
-&gt; ExceptT b m a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(Either a b -&gt; Either b a) -&gt; m (Either a b) -&gt; m (Either b a)
forall (m :: * -&gt; *) a1 r. Monad m =&gt; (a1 -&gt; r) -&gt; m a1 -&gt; m r
</span><span class="hs-identifier hs-var">liftM</span></span><span> </span><span class="annot"><span class="annottext">Either a b -&gt; Either b a
forall a b. Either a b -&gt; Either b a
</span><a href="Data.EitherR.html#flipEither"><span class="hs-identifier hs-var">flipEither</span></a></span><span> </span><span class="annot"><span class="annottext">(m (Either a b) -&gt; m (Either b a))
-&gt; (ExceptT a m b -&gt; m (Either a b))
-&gt; ExceptT a m b
-&gt; m (Either b a)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">ExceptT a m b -&gt; m (Either a b)
forall e (m :: * -&gt; *) a. ExceptT e m a -&gt; m (Either e a)
</span><span class="hs-identifier hs-var">runExceptT</span></span><span>
</span><span id="line-192"></span></pre></body></html>